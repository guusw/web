#!/bin/bash
ROOT_PATH="$(pwd)"
USER=guus
NGINX_SBIN_PATH="$ROOT_PATH/nginx"
NGINX_CONFIG_PATH="$ROOT_PATH/conf/nginx/nginx.conf"
NGINX_BUILD_FLAGS="--with-http_ssl_module --prefix=$ROOT_PATH --sbin-path=$NGINX_SBIN_PATH --conf-path=$NGINX_CONFIG_PATH"
NGINX_DEBUG=1

PHP_CONFIG_PATH="$ROOT_PATH/conf/php"
PHP_PORT=9001
PHP_BIND="127.0.0.1:$PHP_PORT"

MYSQL_CONFIG_PATH="$ROOT_PATH/conf/mysql/my.cnf"
MYSQL_PORT=3309
MYSQL_USER="root"
MYSQL_PASSWORD=""
MYSQL_DATABASE_NAME="tdrz"
MYSQL_ARGS="--defaults-file=$MYSQL_CONFIG_PATH"
MYSQL_LOGIN_ARGS="-u=$MYSQL_USER -p=$MYSQL_PASSWORD"

HTTP_PORT=2057
HTTPS_PORT=2303
GITEA_PORT=3000
HTTP_PUBLIC_PORT=80
HTTPS_PUBLIC_PORT=443

SERVER_NAME="tdrz.nl"
COFFEE_SERVER_NAME="bakje.coffee"
PORTFOLIO_SERVER_NAME="guusw.nl"

DOCUMENT_ROOT="$ROOT_PATH/www"

# Uploaded data directory
TDRZ_DATA_DIR="$ROOT_PATH/data"

# The subdomain for accessing data
TDRZ_DATA_SUBDOMAIN=d

CERTBOT_CONFIG_PATH="$ROOT_PATH/conf/certbot"
CERTBOT_LIVE="$CERTBOT_CONFIG_PATH/live"
CERTBOT_WELL_KNOWN_PATH="$ROOT_PATH/letsencrypt"
CERTBOT_PARAMS="--config-dir=$CERTBOT_CONFIG_PATH --work-dir=$ROOT_PATH --logs-dir=$ROOT_PATH/logs"

# Use this to enable testing certificates
#  otherwise certificates generated by certbot (see ./run_certbot) are used
CERT_TEST=0

# Use these lines to download pcre from git
USE_EXTERNAL_PCRE=1
if [ $USE_EXTERNAL_PCRE -ne 0 ]
then
    NGINX_BUILD_FLAGS="$NGINX_BUILD_FLAGS --with-pcre=$ROOT_PATH/sources/pcre"
fi

# Use these lines to download openssl from git
USE_GIT_OPENSSL=0
if [ $USE_GIT_OPENSSL -ne 0 ]
then
    NGINX_BUILD_FLAGS="$NGINX_BUILD_FLAGS --with-openssl=$ROOT_PATH/sources/openssl"
fi

USE_CLANG=0
if [ $USE_CLANG -ne 0 ]
then
    NGINX_BUILD_FLAGS="$NGINX_BUILD_FLAGS --with-cc=clang"
fi

if [ $NGINX_DEBUG -ne 0 ]
then
    NGINX_BUILD_FLAGS="$NGINX_BUILD_FLAGS --with-debug"
fi

